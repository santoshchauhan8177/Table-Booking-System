{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ConfirmationPage(){const[bookingDetails,setBookingDetails]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[phone,setPhone]=useState('');// State to store phone number\nconst[successMessage,setSuccessMessage]=useState(null);// For success message\nconst[deleteError,setDeleteError]=useState(null);// For delete error message\nconst navigate=useNavigate();// Fetch booking details using phone number\nconst fetchBookingDetails=async phone=>{setLoading(true);try{const response=await axios.get(\"http://localhost:5000/get-booking?phone=\".concat(phone));setBookingDetails(response.data);setLoading(false);}catch(err){setError('Error: Could not fetch booking details');setLoading(false);}};const handlePhoneChange=event=>{setPhone(event.target.value);};const handleFetchClick=()=>{if(phone){fetchBookingDetails(phone);}else{setError('Please enter a valid phone number.');}};// Handle booking deletion\nconst handleDeleteBooking=async()=>{try{const response=await axios.delete(\"http://localhost:5000/delete-booking?phone=\".concat(phone));setSuccessMessage(response.data.message);// Set success message\nsetBookingDetails(null);// Clear booking details from state\n}catch(err){setDeleteError('Error: Could not delete the booking');}};// Navigate back to home\nconst handleBackToHome=()=>{navigate('/');};return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center min-h-screen bg-slate-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-lg shadow-md w-full max-w-2xl\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-6\",children:\"Booking Confirmation\"}),successMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"text-green-600 text-center\",children:successMessage}),deleteError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 text-center\",children:deleteError}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleBackToHome,className:\"bg-blue-600 text-white px-6 py-2 rounded-md mb-4\",children:\"Back to Home\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:phone,onChange:handlePhoneChange,placeholder:\"Enter Phone Number\",className:\"border px-4 py-2 rounded-md w-full\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleFetchClick,className:\"bg-green-600 text-white px-6 py-2 rounded-md mb-4\",children:\"Fetch Booking Details\"})}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 text-center mt-4\",children:error}),loading&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-yellow-600\",children:\"Loading...\"}),bookingDetails&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold\",children:\"Booking Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Guest Name:\"}),\" \",bookingDetails.firstName,\" \",bookingDetails.lastName]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",bookingDetails.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone:\"}),\" \",bookingDetails.phone]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",bookingDetails.date]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Time:\"}),\" \",bookingDetails.time]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Guests:\"}),\" \",bookingDetails.guests]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Seating Preference:\"}),\" \",bookingDetails.seatingPreference]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Special Requests:\"}),\" \",bookingDetails.specialRequests]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteBooking,className:\"bg-red-600 text-white px-6 py-2 rounded-md\",children:\"Delete Booking\"})})]})]})});}export default ConfirmationPage;","map":{"version":3,"names":["React","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","ConfirmationPage","bookingDetails","setBookingDetails","loading","setLoading","error","setError","phone","setPhone","successMessage","setSuccessMessage","deleteError","setDeleteError","navigate","fetchBookingDetails","response","get","concat","data","err","handlePhoneChange","event","target","value","handleFetchClick","handleDeleteBooking","delete","message","handleBackToHome","className","children","onClick","type","onChange","placeholder","firstName","lastName","email","date","time","guests","seatingPreference","specialRequests"],"sources":["E:/assegement/a/src/ConfirmationPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nfunction ConfirmationPage() {\r\n    const [bookingDetails, setBookingDetails] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [phone, setPhone] = useState(''); // State to store phone number\r\n    const [successMessage, setSuccessMessage] = useState(null); // For success message\r\n    const [deleteError, setDeleteError] = useState(null); // For delete error message\r\n    const navigate = useNavigate();\r\n\r\n    // Fetch booking details using phone number\r\n    const fetchBookingDetails = async (phone) => {\r\n        setLoading(true);\r\n        try {\r\n            const response = await axios.get(`http://localhost:5000/get-booking?phone=${phone}`);\r\n            setBookingDetails(response.data);\r\n            setLoading(false);\r\n        } catch (err) {\r\n            setError('Error: Could not fetch booking details');\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handlePhoneChange = (event) => {\r\n        setPhone(event.target.value);\r\n    };\r\n\r\n    const handleFetchClick = () => {\r\n        if (phone) {\r\n            fetchBookingDetails(phone);\r\n        } else {\r\n            setError('Please enter a valid phone number.');\r\n        }\r\n    };\r\n\r\n    // Handle booking deletion\r\n    const handleDeleteBooking = async () => {\r\n        try {\r\n            const response = await axios.delete(`http://localhost:5000/delete-booking?phone=${phone}`);\r\n            setSuccessMessage(response.data.message); // Set success message\r\n            setBookingDetails(null); // Clear booking details from state\r\n        } catch (err) {\r\n            setDeleteError('Error: Could not delete the booking');\r\n        }\r\n    };\r\n\r\n    // Navigate back to home\r\n    const handleBackToHome = () => {\r\n        navigate('/');\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex justify-center items-center min-h-screen bg-slate-500\">\r\n            <div className=\"bg-white p-8 rounded-lg shadow-md w-full max-w-2xl\">\r\n                <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">Booking Confirmation</h2>\r\n\r\n                {/* Success message for deletion */}\r\n                {successMessage && <p className=\"text-green-600 text-center\">{successMessage}</p>}\r\n                \r\n                {/* Delete error message */}\r\n                {deleteError && <p className=\"text-red-600 text-center\">{deleteError}</p>}\r\n\r\n                {/* Button to navigate to the home page */}\r\n                <div className=\"flex justify-center\">\r\n                    <button\r\n                        onClick={handleBackToHome}\r\n                        className=\"bg-blue-600 text-white px-6 py-2 rounded-md mb-4\"\r\n                    >\r\n                        Back to Home\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Input field for phone number */}\r\n                <div className=\"mb-4\">\r\n                    <input\r\n                        type=\"text\"\r\n                        value={phone}\r\n                        onChange={handlePhoneChange}\r\n                        placeholder=\"Enter Phone Number\"\r\n                        className=\"border px-4 py-2 rounded-md w-full\"\r\n                    />\r\n                </div>\r\n\r\n                {/* Button to fetch booking details */}\r\n                <div className=\"flex justify-center\">\r\n                    <button\r\n                        onClick={handleFetchClick}\r\n                        className=\"bg-green-600 text-white px-6 py-2 rounded-md mb-4\"\r\n                    >\r\n                        Fetch Booking Details\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Displaying error message */}\r\n                {error && <p className=\"text-red-600 text-center mt-4\">{error}</p>}\r\n\r\n                {/* Display loading state */}\r\n                {loading && <p className=\"text-center text-yellow-600\">Loading...</p>}\r\n\r\n                {/* Display booking details */}\r\n                {bookingDetails && (\r\n                    <div className=\"mt-6\">\r\n                        <p className=\"text-lg font-semibold\">Booking Details</p>\r\n                        <div className=\"mb-4\">\r\n                            <p><strong>Guest Name:</strong> {bookingDetails.firstName} {bookingDetails.lastName}</p>\r\n                            <p><strong>Email:</strong> {bookingDetails.email}</p>\r\n                            <p><strong>Phone:</strong> {bookingDetails.phone}</p>\r\n                            <p><strong>Date:</strong> {bookingDetails.date}</p>\r\n                            <p><strong>Time:</strong> {bookingDetails.time}</p>\r\n                            <p><strong>Guests:</strong> {bookingDetails.guests}</p>\r\n                            <p><strong>Seating Preference:</strong> {bookingDetails.seatingPreference}</p>\r\n                            <p><strong>Special Requests:</strong> {bookingDetails.specialRequests}</p>\r\n                        </div>\r\n\r\n                        {/* Delete Booking Button below Fetch Booking Button */}\r\n                        <div className=\"flex justify-center mt-6\">\r\n                            <button\r\n                                onClick={handleDeleteBooking}\r\n                                className=\"bg-red-600 text-white px-6 py-2 rounded-md\"\r\n                            >\r\n                                Delete Booking\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ConfirmationPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,gBAAgBA,CAAA,CAAG,CACxB,KAAM,CAACC,cAAc,CAAEC,iBAAiB,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAAE;AACxC,KAAM,CAACgB,cAAc,CAAEC,iBAAiB,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAAE;AAC5D,KAAM,CAACkB,WAAW,CAAEC,cAAc,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CAAE;AACtD,KAAM,CAAAoB,QAAQ,CAAGnB,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAAAoB,mBAAmB,CAAG,KAAO,CAAAP,KAAK,EAAK,CACzCH,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACA,KAAM,CAAAW,QAAQ,CAAG,KAAM,CAAApB,KAAK,CAACqB,GAAG,4CAAAC,MAAA,CAA4CV,KAAK,CAAE,CAAC,CACpFL,iBAAiB,CAACa,QAAQ,CAACG,IAAI,CAAC,CAChCd,UAAU,CAAC,KAAK,CAAC,CACrB,CAAE,MAAOe,GAAG,CAAE,CACVb,QAAQ,CAAC,wCAAwC,CAAC,CAClDF,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CAED,KAAM,CAAAgB,iBAAiB,CAAIC,KAAK,EAAK,CACjCb,QAAQ,CAACa,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAChC,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC3B,GAAIjB,KAAK,CAAE,CACPO,mBAAmB,CAACP,KAAK,CAAC,CAC9B,CAAC,IAAM,CACHD,QAAQ,CAAC,oCAAoC,CAAC,CAClD,CACJ,CAAC,CAED;AACA,KAAM,CAAAmB,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACA,KAAM,CAAAV,QAAQ,CAAG,KAAM,CAAApB,KAAK,CAAC+B,MAAM,+CAAAT,MAAA,CAA+CV,KAAK,CAAE,CAAC,CAC1FG,iBAAiB,CAACK,QAAQ,CAACG,IAAI,CAACS,OAAO,CAAC,CAAE;AAC1CzB,iBAAiB,CAAC,IAAI,CAAC,CAAE;AAC7B,CAAE,MAAOiB,GAAG,CAAE,CACVP,cAAc,CAAC,qCAAqC,CAAC,CACzD,CACJ,CAAC,CAED;AACA,KAAM,CAAAgB,gBAAgB,CAAGA,CAAA,GAAM,CAC3Bf,QAAQ,CAAC,GAAG,CAAC,CACjB,CAAC,CAED,mBACIhB,IAAA,QAAKgC,SAAS,CAAC,4DAA4D,CAAAC,QAAA,cACvE/B,KAAA,QAAK8B,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eAC/DjC,IAAA,OAAIgC,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,sBAAoB,CAAI,CAAC,CAG9ErB,cAAc,eAAIZ,IAAA,MAAGgC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAErB,cAAc,CAAI,CAAC,CAGhFE,WAAW,eAAId,IAAA,MAAGgC,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAEnB,WAAW,CAAI,CAAC,cAGzEd,IAAA,QAAKgC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cAChCjC,IAAA,WACIkC,OAAO,CAAEH,gBAAiB,CAC1BC,SAAS,CAAC,kDAAkD,CAAAC,QAAA,CAC/D,cAED,CAAQ,CAAC,CACR,CAAC,cAGNjC,IAAA,QAAKgC,SAAS,CAAC,MAAM,CAAAC,QAAA,cACjBjC,IAAA,UACImC,IAAI,CAAC,MAAM,CACXT,KAAK,CAAEhB,KAAM,CACb0B,QAAQ,CAAEb,iBAAkB,CAC5Bc,WAAW,CAAC,oBAAoB,CAChCL,SAAS,CAAC,oCAAoC,CACjD,CAAC,CACD,CAAC,cAGNhC,IAAA,QAAKgC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cAChCjC,IAAA,WACIkC,OAAO,CAAEP,gBAAiB,CAC1BK,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAChE,uBAED,CAAQ,CAAC,CACR,CAAC,CAGLzB,KAAK,eAAIR,IAAA,MAAGgC,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAEzB,KAAK,CAAI,CAAC,CAGjEF,OAAO,eAAIN,IAAA,MAAGgC,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,CAGpE7B,cAAc,eACXF,KAAA,QAAK8B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjBjC,IAAA,MAAGgC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,iBAAe,CAAG,CAAC,cACxD/B,KAAA,QAAK8B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjB/B,KAAA,MAAA+B,QAAA,eAAGjC,IAAA,WAAAiC,QAAA,CAAQ,aAAW,CAAQ,CAAC,IAAC,CAAC7B,cAAc,CAACkC,SAAS,CAAC,GAAC,CAAClC,cAAc,CAACmC,QAAQ,EAAI,CAAC,cACxFrC,KAAA,MAAA+B,QAAA,eAAGjC,IAAA,WAAAiC,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAAC7B,cAAc,CAACoC,KAAK,EAAI,CAAC,cACrDtC,KAAA,MAAA+B,QAAA,eAAGjC,IAAA,WAAAiC,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAAC7B,cAAc,CAACM,KAAK,EAAI,CAAC,cACrDR,KAAA,MAAA+B,QAAA,eAAGjC,IAAA,WAAAiC,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAAC7B,cAAc,CAACqC,IAAI,EAAI,CAAC,cACnDvC,KAAA,MAAA+B,QAAA,eAAGjC,IAAA,WAAAiC,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAAC7B,cAAc,CAACsC,IAAI,EAAI,CAAC,cACnDxC,KAAA,MAAA+B,QAAA,eAAGjC,IAAA,WAAAiC,QAAA,CAAQ,SAAO,CAAQ,CAAC,IAAC,CAAC7B,cAAc,CAACuC,MAAM,EAAI,CAAC,cACvDzC,KAAA,MAAA+B,QAAA,eAAGjC,IAAA,WAAAiC,QAAA,CAAQ,qBAAmB,CAAQ,CAAC,IAAC,CAAC7B,cAAc,CAACwC,iBAAiB,EAAI,CAAC,cAC9E1C,KAAA,MAAA+B,QAAA,eAAGjC,IAAA,WAAAiC,QAAA,CAAQ,mBAAiB,CAAQ,CAAC,IAAC,CAAC7B,cAAc,CAACyC,eAAe,EAAI,CAAC,EACzE,CAAC,cAGN7C,IAAA,QAAKgC,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cACrCjC,IAAA,WACIkC,OAAO,CAAEN,mBAAoB,CAC7BI,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CACzD,gBAED,CAAQ,CAAC,CACR,CAAC,EACL,CACR,EACA,CAAC,CACL,CAAC,CAEd,CAEA,cAAe,CAAA9B,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}